(jbuild_version 1)

(executables
 ((names     (version ls exec bind robust ps))
  (libraries (docker-api str))))

(alias
 ((name tests)
  (deps (version.exe ls.exe exec.exe bind.exe robust.exe ps.exe))))

(alias
 ((name    runtest)
  (deps    (version.exe))
  (action  (run ${<}))))

(alias
 ((name    runtest)
  (deps    (ls.exe))
  (action  (progn
            (run ${<})
            (run ${<} --logs)))))

(alias
 ((name    runtest)
  (deps    (exec.exe))
  (action  (run ${<}))))

(alias
 ((name    runtest)
  (deps    (bind.exe))
  (action  (run ${<}))))

(alias
 ((name    runtest)
  (deps    (robust.exe))
  (action  (run ${<}))))

(alias
 ((name    runtest)
  (deps    (ps.exe))
  (action  (run ${<}))))
